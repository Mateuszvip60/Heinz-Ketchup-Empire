<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Imperium Ketchupu Heinz</title>
    <link rel="stylesheet" href="styles/style.css">
    <link rel="icon" href="skins/classic.png" type="image/png">
</head>
<body>
    <div class="loading-screen" id="loadingScreen">
        <div class="loading-bottle"></div>
    </div>

    <header class="header">
        <h1 class="title" id="gameTitle" data-i18n="gameTitle">Imperium Ketchupu Heinz</h1>
        <button class="language-toggle" id="languageToggle" type="button">🌍 PL</button>
    </header>

    <main class="game-container" id="gameContainer">
        <section class="stats-panel" aria-live="polite">
            <div class="glass-panel stat-item">
                <span class="stat-value" id="totalDrops">0</span>
                <div class="stat-label" id="dropsLabel" data-i18n="dropsLabel">Krople Ketchupu</div>
            </div>
            <div class="glass-panel stat-item">
                <span class="stat-value" id="dropsPerSecond">0</span>
                <div class="stat-label" id="dpsLabel" data-i18n="dpsLabel">Kropli na Sekundę</div>
            </div>
            <div class="glass-panel stat-item">
                <span class="stat-value" id="totalClicks">0</span>
                <div class="stat-label" id="clicksLabel" data-i18n="clicksLabel">Całkowite Kliknięcia</div>
            </div>
            <div class="glass-panel stat-item">
                <span class="stat-value" id="rebirthCount">0</span>
                <div class="stat-label" id="rebirthLabel" data-i18n="rebirthLabel">Odrodzenia</div>
            </div>
            <div class="glass-panel stat-item">
                <span class="stat-value" id="soulPoints">0</span>
                <div class="stat-label" id="soulLabel" data-i18n="soulLabel">Punkty Duszy</div>
            </div>
        </section>

        <section class="clicker-area glass-panel" aria-label="Obszar gry">
            <div class="bottle-container">
                <img class="bottle" id="bottle" src="skins/classic.png" alt="Butelka ketchup Heinz">
            </div>
            <div class="skin-selector" id="skinSelector"></div>
            <div class="rebirth-panel">
                <button class="rebirth-button" id="rebirthButton" type="button" disabled>
                    <span id="rebirthText" data-i18n="rebirthText">Odrodzenie (wymagane 1e12 kropli)</span>
                </button>
                <div id="rebirthInfo"></div>
            </div>
        </section>

        <section class="upgrades-panel" id="sidePanel">
            <div class="glass-panel panel-heading">
                <h2 class="panel-title" id="upgradesTitle" data-i18n="upgradesTitle">Ulepszenia</h2>
                <div class="tab-buttons">
                    <button class="tab-button active" id="regularUpgradesTab" type="button">Zwykłe</button>
                    <button class="tab-button" id="soulUpgradesTab" type="button">Dusze (🔮)</button>
                    <button class="tab-button" id="achievementsTab" type="button">Osiągnięcia (🏆)</button>
                </div>
            </div>

            <div id="upgradesContainer" aria-live="polite"></div>
            <div id="soulUpgradesContainer" aria-live="polite" style="display: none;"></div>
            <div id="achievementsContainer" aria-live="polite" style="display: none;"></div>
        </section>
    </main>

    <div class="achievement-popup" id="achievementPopup" role="status">
        <div class="achievement-title" id="achievementTitle" data-i18n="achievementUnlocked">Osiągnięcie Odblokowane!</div>
        <div class="achievement-desc" id="achievementDesc">Opis</div>
    </div>

    <div class="modal" id="rebirthModal" role="dialog" aria-modal="true" aria-labelledby="rebirthModalTitle">
        <div class="modal-content">
            <h2 id="rebirthModalTitle" data-i18n="rebirthModalTitle">Potwierdzenie Odrodzenia</h2>
            <p id="rebirthModalDesc" data-i18n="rebirthModalDesc">To zresetuje cały postęp, ale da stałe bonusy!</p>
            <div id="rebirthBonusInfo"></div>
            <button class="rebirth-button" id="confirmRebirth" type="button" data-i18n="confirmRebirth">Potwierdź Odrodzenie</button>
            <button class="rebirth-button" id="cancelRebirth" type="button" data-i18n="cancel">Anuluj</button>
        </div>
    </div>

    <div class="modal" id="playerNameModal" role="dialog" aria-modal="true" aria-labelledby="playerNameModalTitle">
        <div class="modal-content">
            <h2 id="playerNameModalTitle" data-i18n="nicknameModalTitle">Wprowadź swój Nick</h2>
            <p id="playerNameModalDesc" data-i18n="nicknameModalDesc">Ta nazwa będzie używana w rankingu. Możesz ją ustawić tylko raz!</p>
            <input type="text" class="player-name-input" id="initialPlayerNameInput" placeholder="Twój nick..." maxlength="20">
            <button class="submit-score-btn" id="savePlayerNameBtn" type="button" data-i18n="saveNickname">Zapisz Nick</button>
        </div>
    </div>

    <audio id="clickSound" preload="auto">
        <source src="sounds/squish.mp3" type="audio/mpeg">
    </audio>
    <audio id="upgradeSound" preload="auto">
        <source src="sounds/upgrade.mp3" type="audio/mpeg">
    </audio>
    <audio id="achievementSound" preload="auto">
        <source src="sounds/victory.mp3" type="audio/mpeg">
    </audio>
    <audio id="rebirthSound" preload="auto">
        <source src="sounds/rebirth.mp3" type="audio/mpeg">
    </audio>

    <script src="env.js"></script>
    <script type="module" src="src/main.js"></script>
</body>
</html>
